# Recipes

Recipes are defined sets of CSS styles composed together that can be easily applied to specific components. Panda allows
you create recipes for your design system or components.

> All recipe styles are generated at build time.

## Base and Variants

As you build out components in your application or design system, you'll discover you need components with similar
styles and only a few differences. To achieve this, we came up with the idea of `base` and `variants` keys for recipes.

- Base refers to the common or shared styles for a specific component
- Variants are the properties that map to the different visual styles of a single component.

Here's an example button recipe

```jsx
// recipes/button.tsx
import { defineRecipe } from 'css-panda'

const buttonRecipe = defineRecipe({
  ...
  base: {
    display: 'flex',
  },
  variants: {
    visual: {
      funky: { bg: 'red.200', color: 'white' },
      edgy: { border: '1px solid token(colors.red.500)' },
    },
    size: {
      sm: { padding: '4', fontSize: '12px' },
      lg: { padding: '8', fontSize: '40px' },
    },
  },
})

```

From the example above, you’ll notice the base style of the button is the `display: 'flex'`. We then applied the
`visual` and `size` properties to the variant key.

> You can add as many variant properties and values as you need.

## Creating a recipe

There are two ways to create recipes when using Panda.

### 1. Inline Recipes

This is when you write the recipe in a file and use it directly in your required component.

The inline recipe takes the following properties:

- `base`: The base style object for the recipe
- `variants`: The variant styles for the recipe
- `defaultVariants`: The default variants for the recipe

To define an inline recipe, you’d need to use the `recipe` function like this.

```jsx
import { recipe } from '../panda/css'

const button = recipe({
  base: {
    display: 'flex',
  },
  variants: {
    visual: {
      funky: { bg: 'red.200', color: 'white' },
      edgy: { border: '1px solid token(colors.red.500)' },
    },
    size: {
      sm: { padding: '4', fontSize: '12px' },
      lg: { padding: '8', fontSize: '40px' },
    },
    shape: {
      square: { borderRadius: '0' },
      circle: { borderRadius: 'full' },
    },
  },
  defaultVariants: {
    visual: 'funky',
    size: 'sm',
    shape: 'circle',
  },
})

// lets use the button recipe
function Button() {
  return <button class={button()}>Click me</button>
}
```

With the recipe defined, you can now use it in your application.

> defaultVariant is the default properties of the defined variants.

### 2. Config Recipe

A config recipe optimizes the CSS output by emitting only the CSS for the recipe used in your application and also
allows you to share as many recipes across your project. To use the config recipe, define the recipe in the
`panda.config` file. When added to the panda config file, it generates utilities to consume them in a type-safe manner.

The config recipe takes the following properties:

- `name`: The name of the recipe
- `description`: A description of the recipe. Used in the JSDoc comments.
- `base`: The base style object for the recipe
- `variants`: The variant styles for the recipe
- `defaultVariants`: The default variants for the recipe

To define a config recipe, you’d need to use the `defineRecipe` function like below.

```jsx
import { defineRecipe } from 'css-panda'

const buttonRecipe = defineRecipe({
  name: 'button',
  description: 'The styles for the Button component',
  base: {
    display: 'flex',
  },
  variants: {
    visual: {
      funky: { bg: 'red.200', color: 'white' },
      edgy: { border: '1px solid token(colors.red.500)' },
    },
    size: {
      sm: { padding: '4', fontSize: '12px' },
      lg: { padding: '8', fontSize: '40px' },
    },
    shape: {
      square: { borderRadius: '0' },
      circle: { borderRadius: 'full' },
    },
  },
  defaultVariants: {
    visual: 'funky',
    size: 'sm',
    shape: 'circle',
  },
})
```

#### Using a Config Recipe

To use the config recipe you create, add it under the theme key in `defineConfig`.

```jsx
import { defineConfig } from 'css-panda'

export default defineConfig({
  include: ['src/**/*.tsx'],
  outdir: 'panda',
  presets: ['css-panda/presets'],
  jsxFramework: 'solid',
  theme: {
    extend: {
      recipes: {
        button: buttonRecipe,
      },
    },
  },
})
```

This generates a recipes folder with all the recipes. You only need to import the recipes into the component files where
you need to use them.

> If Panda doesn’t automatically generate your CSS file, you can run the panda codegen command.

## Converting an inline recipe into a component

When creating recipes, there are times you may need to convert your recipe into a component. You can do this by
importing `panda`

```jsx
import { panda } from '../panda/jsx'

const Button = panda('button', {
  base: {
    display: 'flex',
  },
  variants: {
    visual: {
      funky: { bg: 'red.200', color: 'white' },
      edgy: { border: '1px solid token(colors.red.500)' },
    },
    size: {
      sm: { padding: '4', fontSize: '12px' },
      lg: { padding: '8', fontSize: '40px' },
    },
    shape: {
      square: { borderRadius: '0' },
      circle: { borderRadius: 'full' },
    },
  },
  defaultVariants: {
    visual: 'funky',
    size: 'sm',
    shape: 'circle',
  },
})

function App () {
  return (
    <div>
      <Button visual="funky">Click me</button>
    </div>
  )
}

```

## TypeScript guide

Every recipe ships a type interface for its accepted variants.

```ts
import { ButtonVariants } from '../design-system/recipes'

type ButtonProps = ButtonVariants & {
  children: React.ReactNode
}
```
